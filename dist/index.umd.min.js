!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("@eafmm/core")):"function"==typeof define&&define.amd?define(["exports","vue","@eafmm/core"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).sayHello={},e.vue,e.core)}(this,(function(e,t,s){"use strict";const o=t.defineComponent({methods:{destructor(){var e;return null===(e=a.MINIMAPS.get(this))||void 0===e?void 0:e.destructor()},takeSnapshot(){var e;return null===(e=a.MINIMAPS.get(this))||void 0===e?void 0:e.takeSnapshot()}},mounted(){var e,t;if(Object.keys(this.$slots).length)throw new Error("FmmVueMinimap is a contentless tag");let o=null===(e=this.$el)||void 0===e?void 0:e.parentElement;for(;o&&"FORM"!==o.tagName;)o=o.parentElement;if(!o)throw new Error("FmmVueMinimap must be used inside a FORM tag");const r={aggregateLabels:this.aggregateLabels,anchor:this.anchor,debounceMsec:this.debounceMsec,dynamicLabels:this.dynamicLabels,form:new s.FmmFormHTML(o,this.page),framework:this.framework,onUpdate:e=>this.$emit("update",e),store:this.store,title:this.title,usePanelDetail:this.usePanelDetail,useWidthToScale:this.useWidthToScale,verbosity:this.verbosity,zoomFactor:this.zoomFactor},i=this.panel?null===(t=a.PANELS.get(this.panel))||void 0===t?void 0:t.createMinimap(r):s.Fmm.createMinimap(r,this.parent);i&&(a.MINIMAPS.set(this,i),i.compose(this.customElementIds),this.$watch("customElementIds",(e=>i.compose(e))))},name:"FmmVueMinimap",props:{aggregateLabels:Object,anchor:HTMLDivElement,customElementIds:Array,debounceMsec:Number,dynamicLabels:Array,framework:Object,page:HTMLDivElement,panel:{type:Object,validator:e=>"FmmVuePanel"===e.$options.name},parent:HTMLDivElement,store:Object,title:{required:!0,type:String,validator:e=>(null==e?void 0:e.trim().length)>0},usePanelDetail:Boolean,useWidthToScale:Boolean,verbosity:Number,zoomFactor:Number},render:()=>t.h("div"),unmounted(){const e=a.MINIMAPS.get(this);e&&e.detach(),a.MINIMAPS.delete(this)},updated(){this.$nextTick((()=>{var e;return null===(e=a.MINIMAPS.get(this))||void 0===e?void 0:e.takeSnapshot()}))}}),r=t.defineComponent({methods:{destroyDetached(){const e=a.PANELS.get(this);e&&e.destroyDetached()}},mounted(){if(Object.keys(this.$slots).length)throw new Error("FmmVuePanel is a contentless tag");a.PANELS.set(this,s.Fmm.createPanel(this.$el,this.detailParent,this.vertical))},name:"FmmVuePanel",props:{detailParent:HTMLDivElement,vertical:Boolean},render:()=>t.h("div",{class:"fmm-panel"},[t.h("style",{tag:"component",attrs:{type:"text/css"}},s.Fmm.CSS)]),unmounted(){const e=a.PANELS.get(this);e&&e.destructor(),a.PANELS.delete(this)}}),i=t.defineComponent({data:()=>({store:void 0}),emits:["store"],mounted(){if(Object.keys(this.$slots).length)throw new Error("FmmVueStore is a contentless tag");this.$emit("store",this.store=new s.FmmStoreImpl(this.values,this.errors))},name:"FmmVueStore",props:{errors:Object,values:{required:!0,type:Object}},render:()=>null,watch:{errors:function(){this.store.update(this.values,this.errors)},values:function(){this.store.update(this.values,this.errors)}}}),n=t.defineComponent({data:()=>({$store:void 0,unsubscribeToStore:void 0,store:void 0}),emits:["store"],mounted(){if(Object.keys(this.$slots).length)throw new Error("FmmVuex is a contentless tag");this.$emit("store",this.store=new s.FmmStoreImpl(this.$store.state,this.errors)),this.unsubscribeToStore=this.$store.subscribe(((e,t)=>this.store.update(t,this.errors)))},name:"FmmVuex",props:{errors:Object},render:()=>null,unmounted(){this.unsubscribeToStore()},watch:{errors:function(){this.store.update(this.$store.state,this.errors)}}}),a={MINIMAPS:new WeakMap,PANELS:new WeakMap},l={createFrameworkItem(e,t){var s;return(null===(s=t.parentElement)||void 0===s?void 0:s.classList.contains("v-select__selections"))?new u(t):new m(t)}};class m{constructor(e){const t="INPUT"===e.tagName&&"radio"===e.type;let s=e.parentElement;const o=t?"v-radio":"v-input";for(;s&&!s.classList.contains(o);)s=s.parentElement;if(s){this.envelope=s;const e=s.querySelectorAll("LABEL");if(1===e.length&&(this.label=e[0]),t)for(;s&&!s.classList.contains("v-input--radio-group");)s=s.parentElement;this.forValidation=s||this.envelope}else this.envelope=this.forValidation=e}destructor(){}getEnvelope(e,t,s){return this.envelope}getError(e,t,s,o){var r;return(null===(r=this.forValidation.querySelector("DIV.v-messages__message"))||void 0===r?void 0:r.textContent)||""}getLabel(e,t){return this.label}getValue(e,t,s,o){return""}}class u extends m{getValue(e,t,s,o){var r;return(null===(r=t.parentElement)||void 0===r?void 0:r.textContent)||""}}e.FmmVueMinimap=o,e.FmmVuePanel=r,e.FmmVueStore=i,e.FmmVuetify=l,e.FmmVuex=n,Object.defineProperty(e,"__esModule",{value:!0})}));